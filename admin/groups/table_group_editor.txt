===================
明细表组编辑器
===================

当开发人员想要创建新的明细表组或修改现有明细表组时，会打开 **Detail Group Editor** （明细表组编辑器）。请参阅
:doc:`任务树 </programming/task_tree>`

**Detail Group Editor** （明细表组编辑器）的上半部分有以下字段：

* **Caption** （标题）- 向用户显示的项目名称。

* **Name** （名称）- 项目的名称，将在编程代码中用于
  访问项目对象。它在项目中应该是唯一的，并且
  应该是有效的 Python 标识符。

* **Table** （表）- 将在项目数据库中创建的表的名称。
  此名称在创建项目时指定，以后不能更改。
  
* **Primary key field** （主键字段）- 通过点击此
  属性右侧的按钮，您可以指定项目的主键字段。如果主
  键字段已为拥有该项目的组定义，则默认会显示在那里，
  否则您必须先创建此字段。

* **Deleted flag field** （删除标志字段）- 通过点击此
  属性右侧的按钮，您可以指定将作为项目删除标志的
  字段。如果删除标志字段已为拥有该项目的组定义，
  则默认会显示在那里，否则您必须先创建此字段。

* **Record version** （记录版本）- 通过点击此属性右侧的按钮，
  您可以指定将作为项目 :doc:`记录锁定 </admin/record_locking>`
  字段的字段。

* **Visible** （可见）- 使用此复选框设置项目的可见属性。该
  属性的值可在客户端代码中用于创建菜单项等。

* **Soft delete** （软删除）- 当勾选此复选框时，删除方法不会
  从表中物理删除记录，而是使用此字段将
  记录标记为已删除。请参阅
  :doc:`公共字段 </programming/data/common_fields>`、
  :doc:`delete </refs/server/item/m_delete>`
  方法（服务器端）、
  :doc:`delete </refs/client/item/m_delete>`
  方法（客户端）。
  
* **Virtual table** （虚拟表）- 如果勾选此复选框，将不会创建
  数据库表。使用此选项可以创建具有内存数据集的项目，或使用
  其模块编写代码。
  此复选框必须在创建项目时设置，以后不能更改。
  
* **History** （历史）- 如果勾选此复选框，应用程序将为此
  项目保存用户所做的审计追踪/变更历史记录，请参阅
  :doc:`保存用户所做的审计追踪/变更历史记录 </admin/saving_history>`

* **Edit lock** （编辑锁定）- 如果勾选此复选框，应用程序将在用户同时编辑记录时使用记录
  锁定，请参阅
  :doc:`记录锁定 </admin/record_locking>`

在 **Detail Group Editor** （明细表组编辑器）对话框的中心部分，有一个表格
包含为该组定义的所有项目共有的字段列表。这些字段对于该组将拥有的所有项目都是
:doc:`公共的 </programming/data/common_fields>`。

要添加、修改或删除字段，请使用以下按钮：

* **New** （新建）- 点击此按钮调用
  :doc:`字段编辑器对话框 </admin/items/field_editor_dialog>`
  以创建新字段。

* **Edit** （编辑）- 点击此按钮调用
  :doc:`字段编辑器对话框 </admin/items/field_editor_dialog>`
  以修改选定的字段。

* **Delete** （删除）- 点击此按钮删除字段列表中选定的字段。

在对话框表单的右下角有两个按钮：

* **OK** （确定）- 点击此按钮保存您所做的更改。

* **Cancel** （取消）- 点击此按钮取消操作。

.. note::
    您只能在创建新组或编辑空组时创建新字段或修改现有字段，
    以及设置 **Primary key field** （主键字段）
    和 **Deleted flag field** （删除标志字段）
    属性。
    
    对于已经拥有项目的现有明细表组，您只能更改
    **Caption** （标题）、**Name** （名称）和 **Visible** （可见）属性。

.. image:: /admin/_images/detail_group_jampy.png
	:align: center
	:alt: 明细表组编辑器
